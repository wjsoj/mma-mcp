# Mathematica MCP Server Configuration

# ===================
# Server Configuration
# ===================

# Transport mode: 'http' for HTTP/SSE transport, 'stdio' for stdio transport
MCP_TRANSPORT=http

# HTTP server configuration (only used when MCP_TRANSPORT=http)
MCP_HTTP_PORT=3000
MCP_HTTP_HOST=127.0.0.1

# ===================
# Authentication
# ===================

# API key for bearer token authentication (HTTP transport only)
# IMPORTANT: Use a strong random key (minimum 32 characters recommended)
# Generate with: openssl rand -hex 32
MCP_API_KEY=your-secret-api-key-here-min-32-characters-recommended

# ===================
# Mathematica Configuration
# ===================

# Path to wolframscript executable
# Default: 'wolframscript' (assumes it's in PATH)
WOLFRAM_SCRIPT_PATH=wolframscript

# Default execution timeout in milliseconds
# Default: 30000 (30 seconds)
DEFAULT_TIMEOUT=30000

# Maximum allowed timeout in milliseconds
# This caps the timeout parameter from tool requests
# Default: 300000 (5 minutes)
MAX_TIMEOUT=300000

# Kernel warmup delay in milliseconds
# Delay after kernel initialization before starting the transport
# This allows the kernel to fully stabilize before accepting requests
# Default: 5000 (5 seconds), Range: 0-180000 (0-3 minutes)
KERNEL_WARMUP_DELAY=5000

# ===================
# Package Configuration
# ===================

# Path to packages configuration file
# Default: ./config/packages.json
PACKAGES_CONFIG_PATH=./config/packages.json

# ===================
# Logging
# ===================

# Log level: debug, info, warn, error
# Default: info
LOG_LEVEL=info

# ===================
# Environment Notes
# ===================

# For stdio transport mode:
# - Set MCP_TRANSPORT=stdio
# - MCP_API_KEY is not required (authentication is not used)
# - All logs will be redirected to stderr automatically

# For HTTP transport mode:
# - Set MCP_TRANSPORT=http
# - Set MCP_API_KEY to a secure value
# - Clients must send "Authorization: Bearer <API_KEY>" header

# Security recommendations:
# 1. Use a strong, randomly-generated API key
# 2. Keep this file secure and never commit it to version control
# 3. Use different API keys for different environments
# 4. Rotate API keys regularly
